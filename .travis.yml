language: cpp

os:
  - linux
  - osx

matrix:
  fast_finish: true

before_install:
  - git clone https://github.com/creationix/nvm.git /tmp/.nvm;
  - source /tmp/.nvm/nvm.sh;
  - nvm install 5.11.1;
  - nvm use --delete-prefix 5.11.1;

install:
  - npm install

script:
  - if [[ "$TRAVIS_OS_NAME" = osx ]]; then xcodebuild test -project ios/remindr.xcodeproj -scheme remindr -destination 'platform=iOS Simulator,name=iPhone 6' ; fi
  - if [[ "$TRAVIS_OS_NAME" = linux ]]; then npm run travis -- --maxWorkers=1; fi

notifications:
  email: false

branches:
  only:
    - master
